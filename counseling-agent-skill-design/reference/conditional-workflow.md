# Conditional Workflow

## 適用條件（When to Use）

- 任務存在分支判斷，不同條件需走不同流程路徑
- 使用者的輸入類型或情境會影響後續步驟
- 需要避免 Claude 自行猜測該走哪條路

## 概念說明

在決策點提供明確的「條件 → 路徑」對應，讓 Claude 根據判斷結果進入正確的子流程。每條路徑有獨立的步驟序列。

## 範例

以「文件處理 Skill」為例，workflow 可設計為：

````markdown
## 文件處理流程

**Step 1: 判斷處理類型**

根據使用者需求，判斷屬於哪種處理類型：

- **建立新文件？** → 進入「建立流程」
- **編輯現有文件？** → 進入「編輯流程」
- **合併多份文件？** → 進入「合併流程」

---

### 建立流程

1. 確認文件格式與模板
2. 根據使用者提供的內容填入模板
3. 輸出新文件

### 編輯流程

1. 讀取現有文件
2. 識別要修改的區段
3. 執行修改
4. 驗證修改結果（→ 搭配 Feedback Loop）

### 合併流程

1. 讀取所有來源文件
2. 確認合併順序與衝突處理規則
3. 執行合併
4. 驗證輸出完整性
````

### 設計重點

- 判斷條件要互斥且窮盡，不能有模糊地帶
- 每條路徑獨立描述，不要混在一起
- 可以跟其他 pattern 組合：例如某條路徑內再套用 Feedback Loop 或 Checklist
