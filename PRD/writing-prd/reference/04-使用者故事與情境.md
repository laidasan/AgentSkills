# 4. 使用者故事與情境

## 目的

透過具體情境說明使用者如何使用功能，讓設計師和工程師理解功能的脈絡。

## 撰寫規範

### 基本結構

```markdown
## 使用者故事與情境

### 情境 1：訪客暫存商品
**角色**：訪客（未登入）
**情境**：小明在瀏覽母親節禮物，看到幾個不錯的商品，但還沒決定要買哪個
**使用前**：小明必須開多個分頁或截圖記錄商品，很不方便
**使用後**：小明可以將商品加入購物車，稍後再回來比較和決定

### 情境 2：會員跨裝置購物
**角色**：會員（已登入）
**情境**：小華在手機上加入商品後，回到電腦想繼續購買
**使用前**：購物車資料無法同步，小華需要重新搜尋商品
**使用後**：小華在電腦上登入後，購物車資料自動同步，可直接結帳
```

## 關鍵要素

### 1. 四要素結構
每個情境必須包含：
- **角色**：誰會使用這個功能
- **情境**：在什麼情況下使用
- **使用前**：沒有這個功能時的痛點
- **使用後**：有這個功能後的改善

### 2. 角色設定
- **具體化**：使用具體人名（如小明、小華），增加代入感
- **角色屬性**：標註角色的關鍵屬性（如訪客、會員、管理員）
- **與目標使用者對應**：角色應對應「問題定義與目標」中的目標使用者

### 3. 情境描述
- **具體場景**：避免抽象描述，要有具體的使用場景
- **真實性**：情境應基於真實的使用者行為或調研結果
- **關鍵動機**：說明使用者為什麼需要這個功能

### 4. 使用前後對比
- **對比明確**：清楚呈現有無此功能的差異
- **痛點具體**：使用前的痛點要具體可感
- **價值清晰**：使用後的改善要與預期目標呼應

## 撰寫技巧

### 技巧 1：使用故事化描述
❌ **抽象描述**：「使用者需要暫存商品」
✅ **故事化描述**：「小明在瀏覽母親節禮物，看到幾個不錯的商品，但還沒決定要買哪個」

### 技巧 2：涵蓋主要使用路徑
至少包含 2-3 個主要情境，涵蓋：
- 典型使用路徑（最常見的使用場景）
- 重要邊界情況（如跨裝置、訪客轉會員）
- 特殊需求場景（如企業採購、批量購買）

### 技巧 3：與功能範疇對應
每個使用者故事應對應到「功能範疇與邊界」中的具體功能。

### 技巧 4：避免技術細節
使用者故事應聚焦在使用者體驗和業務價值，而非技術實作。

❌ **包含技術細節**：「使用 localStorage 儲存購物車資料」
✅ **聚焦使用者體驗**：「小明關閉瀏覽器後，下次打開網頁時購物車資料仍然存在」

## 情境數量建議

### 簡單專案
- **2-3 個情境**：涵蓋主要使用路徑即可

### 中等複雜專案
- **4-6 個情境**：涵蓋主要路徑和重要邊界情況

### 複雜專案
- **6-10 個情境**：涵蓋多種角色和場景
- 可分組管理（如：訪客情境、會員情境、管理員情境）

## 注意事項

1. **避免過度理想化**：情境應基於真實使用者行為，而非理想狀態
2. **情境要可驗證**：情境中的改善應能透過數據或測試驗證
3. **與驗收標準對應**：情境中的使用後描述應能對應到功能詳述中的驗收標準
4. **考慮負面情境**：除了成功路徑，也可包含失敗或異常情境

## 常見錯誤

❌ **錯誤示範 1**：缺少關鍵要素
```markdown
### 情境 1：使用者購物
使用者可以將商品加入購物車。
```
**問題**：沒有角色、情境、使用前後對比

✅ **正確示範**：
```markdown
### 情境 1：訪客暫存商品
**角色**：訪客（未登入）
**情境**：小明在瀏覽母親節禮物，看到幾個不錯的商品，但還沒決定要買哪個
**使用前**：小明必須開多個分頁或截圖記錄商品，很不方便
**使用後**：小明可以將商品加入購物車，稍後再回來比較和決定
```

❌ **錯誤示範 2**：情境過於抽象
```markdown
**情境**：使用者需要購物時
```
**問題**：太抽象，無法理解具體場景

✅ **正確示範**：
```markdown
**情境**：小明在瀏覽母親節禮物，看到幾個不錯的商品，但還沒決定要買哪個
```

❌ **錯誤示範 3**：包含技術細節
```markdown
**使用後**：系統使用 localStorage 儲存資料，並透過 API 同步到後端
```
**問題**：使用者故事不應包含技術實作

✅ **正確示範**：
```markdown
**使用後**：小明可以將商品加入購物車，稍後再回來比較和決定
```

## 適用場景

- ✅ 需求討論時，幫助團隊理解使用者需求
- ✅ 設計階段，提供使用者體驗的脈絡
- ✅ 開發階段，幫助工程師理解功能的使用場景
- ✅ 測試階段，作為測試案例的基礎

## 與其他章節的關聯

- **問題定義與目標**：情境中的角色應對應目標使用者
- **功能範疇與邊界**：情境應涵蓋功能範疇中的核心功能
- **互動流程與使用者行為**：情境會延伸成詳細的互動流程
- **功能詳述**：情境中的使用後描述會對應到驗收標準

## 延伸格式：User Story Map

對於複雜專案，可使用 User Story Map 組織情境：

```markdown
## 使用者故事地圖

### 主要活動：商品選購
1. 瀏覽商品
2. 加入購物車
3. 檢視購物車
4. 調整數量
5. 移除商品
6. 前往結帳

### 情境 1：快速購買（訪客）
**路徑**：瀏覽 → 加入 → 結帳
**角色**：訪客
**目標**：快速完成購買

### 情境 2：比較選購（會員）
**路徑**：瀏覽 → 加入 → 檢視 → 調整 → 結帳
**角色**：會員
**目標**：比較商品後再決定購買
```

## 驗證檢查

完成此章節後，檢查以下項目：
- [ ] 每個情境都有角色、情境、使用前、使用後四要素
- [ ] 情境具體且有代入感
- [ ] 至少涵蓋 2-3 個主要情境
- [ ] 情境與目標使用者對應
- [ ] 使用後的改善與預期目標呼應
