# 11. 優先級

## 目的

明確各功能的開發優先順序，並說明調整原因。

## 撰寫規範

### 基本結構

```markdown
## 優先級

### 優先級定義
- **必做（P0）**：解決核心痛點，沒有此功能產品無法運作
- **中（P1）**：改善使用者體驗，有明顯價值但不影響核心功能
- **低（P2）**：輔助性功能，提升便利性但非必要

### 功能優先級清單

| 功能 | 優先級 | 調整原因 |
|------|-------|---------|
| 新增商品至購物車 | P0 | 核心功能，沒有此功能產品無法運作 |
| 修改購物車商品數量 | P0 | 核心功能，使用者必須能調整數量 |
| 刪除購物車商品 | P0 | 核心功能，使用者必須能移除商品 |
| 購物車資料跨裝置同步（會員） | P0 | 核心功能，會員期望資料能同步 |
| 購物車商品庫存即時檢查 | P1 | 改善體驗，避免結帳時才發現缺貨 |
| 購物車商品圖片顯示 | P1 | 改善體驗，但不影響核心功能 |
| 購物車空狀態推薦商品 | P2 | 輔助功能，提升轉換率但非必要 |
| 購物車總價顯示折扣資訊 | P2 | 原為 P1，因技術依賴優惠券系統（尚未完成），調整為 P2 |
```

## 關鍵要素

### 1. 優先級定義
明確定義每個等級的標準：
- **P0（必做）**：
  - 解決核心痛點
  - 沒有此功能產品無法運作
  - 對應「問題定義與目標」中的核心目標

- **P1（中）**：
  - 改善使用者體驗
  - 有明顯價值但不影響核心功能
  - 可以延後但建議在首版完成

- **P2（低）**：
  - 輔助性功能
  - 提升便利性但非必要
  - 可延後至下一版本

### 2. 功能優先級清單
- **完整性**：列出所有功能及其優先級
- **一致性**：優先級標準要前後一致
- **可追溯性**：優先級應能對應到「問題定義與目標」

### 3. 調整原因
說明為什麼這個功能是這個優先級，常見原因：
- **業務價值**：解決核心痛點、提升轉換率、減少流失率
- **技術依賴**：依賴其他系統或功能
- **時程壓力**：時間有限，優先做重要功能
- **複雜度**：技術複雜度高，需要更多時間
- **風險評估**：風險高的功能可能降低優先級
- **優先級變更**：若有調整，說明原因（如：原為 P1，因技術依賴調整為 P2）

## 優先級判斷框架

### 方法 1：價值 vs 成本矩陣

| 價值/成本 | 低成本 | 高成本 |
|----------|-------|-------|
| 高價值 | P0（快速完成） | P0（優先投入） |
| 低價值 | P1（有餘力再做） | P2（延後考慮） |

### 方法 2：RICE 評分法
- **R**each（影響範圍）：多少使用者受影響？
- **I**mpact（影響程度）：對使用者的影響有多大？（1-3 分）
- **C**onfidence（信心度）：對評估的信心程度？（0-100%）
- **E**ffort（工作量）：需要多少人天？

**公式**：RICE Score = (R × I × C) / E

分數越高，優先級越高。

### 方法 3：MoSCoW 方法
- **M**ust have（必須有）→ P0
- **S**hould have（應該有）→ P1
- **C**ould have（可以有）→ P2
- **W**on't have（不會有）→ 本次不包含

## 撰寫技巧

### 技巧 1：P0 功能應對應核心目標
P0 功能應能直接對應到「問題定義與目標」中的核心痛點。

### 技巧 2：調整原因要具體
❌ **模糊原因**：「重要性較低」
✅ **具體原因**：「輔助功能，提升轉換率但非必要，可延後至 v2.0」

### 技巧 3：記錄優先級變更
若優先級有調整，應在調整原因中說明：
```markdown
| 購物車折扣顯示 | P2 | 原為 P1，因技術依賴優惠券系統（尚未完成），調整為 P2 |
```

### 技巧 4：考慮依賴關係
若功能 B 依賴功能 A，則功能 A 的優先級不應低於功能 B。

## 優先級與開發時程

### P0 功能
- **開發時程**：首版上線前必須完成
- **測試要求**：完整測試，包含正常、邊界、異常情境
- **品質標準**：高標準，不允許已知 bug

### P1 功能
- **開發時程**：建議首版完成，若時程緊張可延後
- **測試要求**：主要流程測試，邊界和異常情境測試
- **品質標準**：中等標準，輕微 bug 可接受

### P2 功能
- **開發時程**：可延後至下一版本
- **測試要求**：基本測試即可
- **品質標準**：可容忍部分 bug，不影響核心功能即可

## 注意事項

1. **P0 功能不應過多**：建議 P0 功能佔總功能的 20-30%
2. **優先級要與團隊達成共識**：避免開發過程中爭議
3. **定期檢視調整**：每週或每個 Sprint 檢視優先級是否需調整
4. **考慮技術依賴**：依賴項目的優先級會影響功能的優先級
5. **與時程對應**：優先級應與開發時程規劃一致

## 常見錯誤

❌ **錯誤示範 1**：P0 功能過多
```markdown
| 功能 1 | P0 | ... |
| 功能 2 | P0 | ... |
| 功能 3 | P0 | ... |
| 功能 4 | P0 | ... |
| 功能 5 | P0 | ... |
```
**問題**：所有功能都是 P0，無法區分優先順序

✅ **正確示範**：
- P0：2-3 個核心功能
- P1：3-4 個重要但非必要功能
- P2：2-3 個輔助功能

❌ **錯誤示範 2**：調整原因不明確
```markdown
| 購物車折扣顯示 | P2 | 優先級較低 |
```
**問題**：沒有說明為什麼優先級較低

✅ **正確示範**：
```markdown
| 購物車折扣顯示 | P2 | 原為 P1，因技術依賴優惠券系統（尚未完成），調整為 P2 |
```

❌ **錯誤示範 3**：依賴關係不一致
```markdown
| 購物車 API | P1 | ... |
| 購物車前端功能 | P0 | ... |
```
**問題**：前端依賴後端 API，但 API 優先級較低

✅ **正確示範**：
```markdown
| 購物車 API | P0 | 前端功能的依賴項目，必須優先完成 |
| 購物車前端功能 | P0 | 核心功能 |
```

## 適用場景

- ✅ 專案啟動時，規劃開發順序
- ✅ 資源分配時，決定投入多少人力
- ✅ 時程壓力時，決定哪些功能可延後
- ✅ Sprint 規劃時，決定本次要完成哪些功能

## 與其他章節的關聯

- **問題定義與目標**：P0 功能應對應核心目標
- **功能範疇與邊界**：「本次不包含」的功能可能是 P2 或未來版本
- **外部依賴與技術約束**：依賴項目的風險會影響優先級
- **變更日誌**：若優先級有調整，應記錄在變更日誌

## 優先級決策會議

建議在專案啟動時召開優先級決策會議：

### 參與人員
- PM（主持）
- 技術負責人
- 設計負責人
- 產品負責人或利益相關人

### 議程
1. 回顧「問題定義與目標」
2. 列出所有功能
3. 使用 RICE 或 MoSCoW 方法評估
4. 討論依賴關係和技術約束
5. 達成優先級共識
6. 記錄在 PRD 中

### 輸出
- 所有功能的優先級清單
- 優先級調整原因
- 開發順序建議

## 延伸：功能路線圖

對於多版本專案，可建立功能路線圖：

```markdown
## 功能路線圖

### v1.0（首版上線）
- ✅ 新增商品至購物車（P0）
- ✅ 修改購物車商品數量（P0）
- ✅ 刪除購物車商品（P0）
- ✅ 購物車資料跨裝置同步（P0）
- ✅ 購物車商品庫存即時檢查（P1）

### v1.1（優化版本）
- 📋 購物車商品推薦功能（P2，預計 v1.0 上線後 1 個月）
- 📋 購物車分享給他人（P2，預計 v1.0 上線後 2 個月）

### v2.0（重大更新）
- 🔮 購物車優惠券自動套用（需優惠券系統完成）
- 🔮 購物車批量操作功能（如批量刪除）
```

## 驗證檢查

完成此章節後，檢查以下項目：
- [ ] 所有功能都有優先級標註
- [ ] P0 功能對應核心目標
- [ ] 調整原因具體且清楚
- [ ] 依賴關係一致（依賴項目優先級不低於被依賴項目）
- [ ] 團隊對優先級有共識
- [ ] P0 功能不超過總功能的 30%
