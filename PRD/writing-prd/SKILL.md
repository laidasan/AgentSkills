---
name: writing-prd
description: 撰寫結構化的產品需求文件（PRD），涵蓋問題定義、功能規格、驗收標準等 11 個核心章節。當使用者需要撰寫或審查 PRD 時使用此技能。
---

# PRD 撰寫技能

## 技能概述

此技能協助 PM 撰寫高品質的產品需求文件（PRD），確保文件結構完整、邏輯清晰、可執行性強。適用於新功能開發、系統優化、產品迭代等場景。

## 核心原則

1. **PRD 是活文件**：需求會隨討論和開發過程持續調整，需有版本控制和異動記錄
2. **清晰勝於完美**：優先確保邏輯清楚、術語一致，而非追求完美細節
3. **脈絡優先**：說明「為什麼」比「做什麼」更重要
4. **可驗證性**：每個功能都要有明確的驗收標準

## PRD 結構框架

完整的 PRD 文件包含以下 11 個核心章節：

### 1. 文件資訊區
- 版本號（時間戳記格式：vYYYYMMDD）
- 變更日誌（近期異動 + 錨點連結）
- 修訂歷史（歷史異動歸檔）

### 2. 名詞定義
- 集中定義所有關鍵術語
- 區分業務術語和技術術語

### 3. 問題定義與目標
- 要解決什麼問題？
- 誰遇到這個問題？
- 預期達成什麼目標？

### 4. 使用者故事與情境
- 主要使用者是誰？
- 在什麼情況下會用到？
- 使用前後的差異？

### 5. 功能範疇與邊界
- 這次做什麼、不做什麼
- 已知的技術或業務限制

### 6. 外部依賴與技術約束
- 後端服務依賴
- 第三方 API 依賴
- 開發順序約束

### 7. 互動流程與使用者行為
- 主要流程、替代流程、異常流程
- 線框圖（表達邏輯和流程）

### 8. 功能詳述
每個功能包含：
- 功能描述
- 設計稿連結（放在標題旁）
- 前置條件（業務邏輯型）
- 驗收標準（Given/When/Then 格式）

### 9. 資料與規則定義
- 關鍵資料欄位與格式
- 資料驗證規則
- 資料來源與流向

### 10. 邊界條件與異常處理
- 空資料、大量資料
- 權限不足、操作衝突
- 系統異常、網路異常

### 11. 優先級
- 必做（P0）、中（P1）、低（P2）
- 附上調整原因（技術依賴、複雜度、時程壓力等）

## 工作流程

當使用者要求撰寫 PRD 時，按照以下 5 階段執行：

### 階段 1：初始化（建立基礎架構）
1. 確認專案基本資訊（名稱、負責 PM、相關人員）
2. 建立文件資訊區（版本號、變更日誌）
3. 建立名詞定義區（收集關鍵術語）

**參考文件**：
- `reference/01-文件資訊區.md`
- `reference/02-名詞定義.md`

### 階段 2：定義脈絡（說明為什麼做）
1. 撰寫問題定義與目標
2. 撰寫使用者故事與情境（至少 2-3 個）
3. 定義功能範疇與邊界

**參考文件**：
- `reference/03-問題定義與目標.md`
- `reference/04-使用者故事與情境.md`
- `reference/05-功能範疇與邊界.md`

### 階段 3：定義依賴與約束（釐清風險）
1. 列出外部依賴項目（後端、第三方服務）
2. 標註風險等級（🟢 低、🟡 中、🔴 高）
3. 提供備援方案

**參考文件**：
- `reference/06-外部依賴與技術約束.md`

### 階段 4：設計功能（說明要做什麼）
1. 繪製互動流程（主要、替代、異常流程）
2. 撰寫功能詳述（包含驗收標準）
3. 定義資料結構與規則
4. 列出邊界條件與異常處理

**參考文件**：
- `reference/07-互動流程與使用者行為.md`
- `reference/08-功能詳述.md`
- `reference/09-資料與規則定義.md`
- `reference/10-邊界條件與異常處理.md`

### 階段 5：優先排序與品質檢查
1. 標註每個功能的優先級（P0/P1/P2）
2. 說明調整原因
3. 使用檢查清單驗證 PRD 完整性

**參考文件**：
- `reference/11-優先級.md`
- `reference/checklist.md`

## 參考文件索引

當需要撰寫特定章節時，請參考以下文件：

| 章節 | 參考文件 | 使用時機 |
|------|---------|---------|
| 文件資訊區 | `reference/01-文件資訊區.md` | 建立新 PRD 或更新版本時 |
| 名詞定義 | `reference/02-名詞定義.md` | 定義專案術語時 |
| 問題定義與目標 | `reference/03-問題定義與目標.md` | 說明專案背景和目標時 |
| 使用者故事與情境 | `reference/04-使用者故事與情境.md` | 描述使用場景時 |
| 功能範疇與邊界 | `reference/05-功能範疇與邊界.md` | 定義專案範圍時 |
| 外部依賴與技術約束 | `reference/06-外部依賴與技術約束.md` | 識別外部風險時 |
| 互動流程與使用者行為 | `reference/07-互動流程與使用者行為.md` | 設計使用者流程時 |
| 功能詳述 | `reference/08-功能詳述.md` | 撰寫功能規格和驗收標準時 |
| 資料與規則定義 | `reference/09-資料與規則定義.md` | 定義資料結構時 |
| 邊界條件與異常處理 | `reference/10-邊界條件與異常處理.md` | 處理邊界情況時 |
| 優先級 | `reference/11-優先級.md` | 排定開發順序時 |
| 品質檢查 | `reference/checklist.md` | PRD 完成後驗證時 |

## 快速開始資源

### 查看完整範例
如果使用者需要參考完整的 PRD 範例：
- 請閱讀 `examples/shopping-cart-prd.md`
- 此檔案展示購物車功能的完整 PRD，涵蓋所有 11 個章節

### 使用空白模板
如果使用者希望從空白模板開始：
- 請參考 `templates/prd-template.md`
- 此模板包含所有章節標題和填寫提示

## PRD 品質檢查清單（簡化版）

在完成 PRD 後，使用此清單進行快速自檢：

### 1. 完整性檢查
- [ ] 所有 11 個章節都已完成
- [ ] 每個功能都有驗收標準
- [ ] 所有術語都有定義

### 2. 一致性檢查
- [ ] 名詞使用前後一致
- [ ] 資料欄位名稱與 API 文件一致
- [ ] 驗收標準與功能描述一致

### 3. 清晰度檢查
- [ ] 驗收標準使用 Given/When/Then 格式
- [ ] 異常處理有明確的系統行為和 UI 顯示
- [ ] 優先級調整有說明原因

### 4. 可執行性檢查
- [ ] 工程師能根據 PRD 開始開發
- [ ] 設計師能根據 PRD 設計 UI
- [ ] 測試人員能根據驗收標準撰寫測試案例

### 5. 風險管理檢查
- [ ] 所有外部依賴都有標註風險等級
- [ ] 中高風險項目都有備援方案
- [ ] 開發順序約束已明確標註

### 6. 脈絡檢查
- [ ] 問題定義有具體數據支撐
- [ ] 預期目標可衡量
- [ ] 使用者故事具體且有代入感

### 7. 邊界處理檢查
- [ ] 涵蓋空資料、上限、異常輸入等情境
- [ ] 每個邊界情況都有明確的系統行為
- [ ] UI 提示文字具體且友善

**詳細檢查清單**請參考 `reference/checklist.md`（40+ 檢查項）

## 使用建議

### 對於 PM
- 先完成「問題定義與目標」，確保團隊對專案方向有共識
- 「驗收標準」越詳細，開發時爭議越少
- 定期更新「變更日誌」，讓團隊掌握最新變更

### 對於工程師
- 重點關注「功能詳述」、「資料與規則定義」、「邊界條件與異常處理」
- 如有技術疑問，優先參考「外部依賴與技術約束」
- 實作前檢查「優先級」，避免做到低優先級功能

### 對於設計師
- 重點關注「使用者故事與情境」、「互動流程與使用者行為」
- 「邊界條件與異常處理」中的 UI 提示需要設計對應的視覺呈現
- 參考「功能詳述」中的設計稿連結位置

## 常見問題

**Q：PRD 要寫到多細？**
A：細到工程師和設計師「不需要再問 PM」就能開始工作。

**Q：設計稿還沒出來，PRD 能先寫嗎？**
A：可以。使用線框圖表達邏輯和流程，設計稿出來後再補上連結。

**Q：開發到一半需求變更，PRD 怎麼辦？**
A：更新 PRD，在變更日誌記錄異動，並通知相關人員。PRD 是活文件，需求變更是正常的。

**Q：驗收標準寫太多會不會太冗長？**
A：不會。驗收標準越詳細，開發時爭議越少，測試時遺漏越少。寧可詳細也不要模糊。

## 執行原則

1. **按階段執行**：遵循 5 階段工作流程，確保邏輯完整
2. **按需參考**：根據當前撰寫的章節，參考對應的 reference 文件
3. **實例優先**：當使用者不確定格式時，引導其查看 examples/
4. **品質把關**：完成後使用 checklist.md 進行全面檢查
5. **持續更新**：提醒使用者 PRD 需隨專案進展持續更新

---

**此技能基於 PRD 撰寫規範 v1.0**